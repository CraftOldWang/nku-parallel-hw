cmake_minimum_required(VERSION 3.30)
project(correct_test CXX)
project(main_pool CXX)

set(CMAKE_CXX_STANDARD 20)
#SET(CMAKE_CXX_COMPILER mpicxx)


# âœ… æ‰‹åŠ¨æ·»åŠ  MS-MPI çš„ include å’Œ lib è·¯å¾„
include_directories("C:/Program Files (x86)/Microsoft SDKs/MPI/Include")
link_directories("C:/Program Files (x86)/Microsoft SDKs/MPI/Lib/x64")

# ä½ è‡ªå·±çš„æºç æ–‡ä»¶
set(SOURCES
        guessing_MPI.cpp
        train.cpp
        correctness_guess_MPI.cpp
        md5.cpp
)
# âš™ï¸ ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
add_executable(GuessingMPI ${SOURCES})

# ğŸ”— é“¾æ¥ MS-MPI åº“
target_link_libraries(GuessingMPI msmpi)


# å¦‚æœä½¿ç”¨ MS-MPIï¼Œå»ºè®®æ‰‹åŠ¨è®¾ç½®è·¯å¾„ï¼ˆä¸‹é¢æ˜¯å¯é€‰çš„å†™æ³•ï¼‰
# include_directories("C:/Program Files (x86)/Microsoft SDKs/MPI/Include")
# link_directories("C:/Program Files (x86)/Microsoft SDKs/MPI/Lib/x64")
# target_link_libraries(GuessingMPI msmpi)



#find_package(Threads REQUIRED) # æŸ¥æ‰¾ç³»ç»Ÿä¸Šçš„çº¿ç¨‹åº“
#
#
## å®šä¹‰æ‰€æœ‰éœ€è¦ç¼–è¯‘çš„æºæ–‡ä»¶
#set(SOURCE_FILES
#        guessing_pthread_pool.cpp
#        train.cpp
#        correctness_guess_pool.cpp
#        md5.cpp
#)
## æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶ã€‚'main_pool' å°†æ˜¯ä½ ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ã€‚
## ${SOURCE_FILES} ä¼šæŠŠä¸Šé¢åˆ—è¡¨ä¸­çš„æ‰€æœ‰æºæ–‡ä»¶éƒ½åŒ…å«è¿›æ¥ã€‚
#add_executable(correct_test ${SOURCE_FILES})
#
## é“¾æ¥ pthreads åº“ã€‚
## è¿™æ˜¯ç°ä»£ CMake æ¨èçš„ã€è·¨å¹³å°çš„æ–¹å¼æ¥é“¾æ¥ pthreadsã€‚
#target_link_libraries(correct_test PRIVATE Threads::Threads) # å°†çº¿ç¨‹åº“é“¾æ¥åˆ°ä½ çš„å¯æ‰§è¡Œæ–‡ä»¶
#
#
## è®¾ç½®æºæ–‡ä»¶
#set(MAIN_POOL_SRCS
#        train.cpp
#        md5.cpp
#        guessing_pthread_pool.cpp
#        main_pool.cpp
#)
#
## æ·»åŠ  main_pool å¯æ‰§è¡Œæ–‡ä»¶
#add_executable(main_pool ${MAIN_POOL_SRCS})
## é“¾æ¥ pthread åº“
#target_link_libraries(main_pool PRIVATE Threads::Threads)
#
#
#
#add_executable(main_normal
#    main.cpp
#    train.cpp
#    guessing.cpp
#    md5.cpp
#)
#target_link_libraries(main_normal PRIVATE Threads::Threads)
#
#
#
#add_executable(main_simd
#    train.cpp
#    md5.cpp
#    guessing_pthread_pool.cpp
#    main_pool.cpp
#    md5_simd.cpp
#)
#target_link_libraries(main_normal PRIVATE Threads::Threads)
